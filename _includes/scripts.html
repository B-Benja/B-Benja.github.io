<!-- Javascript -->
<script type="text/javascript" src="{{site.baseurl}}/assets/plugins/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="{{site.baseurl}}/assets/plugins/bootstrap/js/bootstrap.min.js"></script>

<!-- custom js -->
<script type="text/javascript" src="{{site.baseurl}}/assets/js/main.js"></script>

<script>
  // Choose the toggle icon
  const btn = document.getElementById("toggle-dark-light");
  let toggleIcon = btn.firstElementChild;

  // Check for dark mode preference at the OS level
  const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)");
  // Listen to click event on toggle icon
  btn.addEventListener("click", function () {
    // If the user's OS setting is dark and matches our .dark-theme class...
    if (prefersDarkScheme.matches) {
      document.body.classList.toggle("light-theme");
      var theme = document.body.classList.contains("light-theme")
        ? "light"
        : "dark";
      toggleIconFn(theme);
    } else {
      // Otherwise
      document.body.classList.toggle("dark-theme");
      var theme = document.body.classList.contains("dark-theme")
        ? "dark"
        : "light";
      toggleIconFn(theme);
    }
    // Save the current preferred setting
    localStorage.setItem("theme", theme);
  });

  // Change icon
  const toggleIconFn = (theme) => {
    if (theme === "dark") {
      toggleIcon.src = "/img_src/nav/sun.svg";
    } else {
      toggleIcon.src = "/img_src/nav/moon.svg";
    }
  };
</script>

{% if site.analytics %}
  {% include analytics.html %}
{% endif %}